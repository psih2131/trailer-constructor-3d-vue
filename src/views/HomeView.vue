<template>
  <main>
   <header class="header">

			<div class="header__top">
				<div class="container-header">
					<div class="header__contacts">
						<a href="" class="header__contact">
							<svg width="16" height="15" viewBox="0 0 16 15" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<g clip-path="url(#clip0_52_739)">
									<path fill-rule="evenodd" clip-rule="evenodd"
										d="M11.7197 14.9231C10.6554 14.884 7.63924 14.4671 4.4804 11.309C1.3223 8.15017 0.906195 5.13471 0.866284 4.06969C0.807158 2.44667 2.0503 0.870202 3.48633 0.254546C3.65926 0.179874 3.84863 0.151444 4.03587 0.172046C4.2231 0.192648 4.40176 0.261574 4.55431 0.37206C5.73684 1.23383 6.55279 2.53757 7.25344 3.56268C7.4076 3.7879 7.47352 4.06197 7.43862 4.33266C7.40373 4.60334 7.27047 4.85174 7.06424 5.0305L5.62228 6.10143C5.55262 6.15174 5.50358 6.22562 5.48428 6.30935C5.46498 6.39309 5.47672 6.48098 5.51733 6.55671C5.84401 7.15019 6.42493 8.03413 7.0901 8.69931C7.75528 9.36448 8.68135 9.98384 9.31622 10.3475C9.39582 10.3921 9.48952 10.4046 9.57805 10.3824C9.66657 10.3601 9.74321 10.3048 9.79219 10.2277L10.7308 8.79909C10.9034 8.56986 11.158 8.41629 11.4412 8.37055C11.7245 8.32481 12.0144 8.39045 12.2504 8.55371C13.2903 9.27358 14.5038 10.0755 15.3922 11.2129C15.5117 11.3666 15.5877 11.5495 15.6122 11.7426C15.6368 11.9357 15.6091 12.1318 15.5319 12.3105C14.9133 13.7539 13.3479 14.983 11.7197 14.9231Z"
										fill="white" />
								</g>
								<defs>
									<clipPath id="clip0_52_739">
										<rect width="16" height="15" fill="white" />
									</clipPath>
								</defs>
							</svg>
							<span> (651) 300-9730</span>
						</a>

						<a href="" class="header__contact">
							<svg width="16" height="13" viewBox="0 0 16 13" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<path
									d="M1.6 13C1.16 13 0.783467 12.841 0.4704 12.5231C0.157333 12.2051 0.000533333 11.8224 0 11.375V1.625C0 1.17812 0.1568 0.795708 0.4704 0.47775C0.784 0.159791 1.16053 0.000541667 1.6 0H14.4C14.84 0 15.2168 0.15925 15.5304 0.47775C15.844 0.79625 16.0005 1.17867 16 1.625V11.375C16 11.8219 15.8435 12.2046 15.5304 12.5231C15.2173 12.8416 14.8405 13.0005 14.4 13H1.6ZM8 7.17031C8.06667 7.17031 8.1368 7.16002 8.2104 7.13944C8.284 7.11885 8.35387 7.08852 8.42 7.04844L14.08 3.45312C14.1867 3.38542 14.2667 3.30092 14.32 3.19962C14.3733 3.09833 14.4 2.98648 14.4 2.86406C14.4 2.59323 14.2867 2.3901 14.06 2.25469C13.8333 2.11927 13.6 2.12604 13.36 2.275L8 5.6875L2.64 2.275C2.4 2.12604 2.16667 2.12279 1.94 2.26525C1.71333 2.40771 1.6 2.60731 1.6 2.86406C1.6 2.99948 1.62667 3.1181 1.68 3.21994C1.73333 3.32177 1.81333 3.3995 1.92 3.45312L7.58 7.04844C7.64667 7.08906 7.7168 7.11967 7.7904 7.14025C7.864 7.16083 7.93387 7.17085 8 7.17031Z"
									fill="white" />
							</svg>

							<span>sales@stcroixtrailers.com</span>
						</a>

						<a href="" class="header__contact header__contact--green">

							<svg xmlns="http://www.w3.org/2000/svg" width="11" height="16" viewBox="0 0 11 16"
								fill="none">
								<path
									d="M5.5 0C2.46366 0 0 2.30393 0 5.14286C0 9.71429 5.5 16 5.5 16C5.5 16 11 9.71429 11 5.14286C11 2.30393 8.53634 0 5.5 0ZM5.5 8C5.06488 8 4.63953 7.86595 4.27775 7.61479C3.91596 7.36363 3.63398 7.00665 3.46746 6.58899C3.30095 6.17133 3.25738 5.71175 3.34227 5.26837C3.42716 4.82498 3.63669 4.4177 3.94437 4.09804C4.25204 3.77838 4.64404 3.56069 5.0708 3.47249C5.49756 3.3843 5.93991 3.42956 6.3419 3.60256C6.7439 3.77556 7.08749 4.06853 7.32923 4.44441C7.57097 4.8203 7.7 5.26221 7.7 5.71429C7.69936 6.32029 7.46737 6.90129 7.05493 7.3298C6.64249 7.75831 6.08328 7.99934 5.5 8Z"
									fill="#78BE20" />
							</svg>

							<span>Stillwater, MN</span>
						</a>


					</div>
					<div class="header__socials-row">
						<a href="#" class="social-link">
							<svg width="9" height="16" viewBox="0 0 9 16" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<path
									d="M6.49507 0C5.40742 0 4.36432 0.4272 3.59524 1.18762C2.82616 1.94804 2.39409 2.9794 2.39409 4.05479V6.31233H0.199507C0.0895566 6.31233 0 6.4 0 6.50959V9.49041C0 9.59912 0.0886699 9.68767 0.199507 9.68767H2.39409V15.8027C2.39409 15.9115 2.48276 16 2.5936 16H5.60837C5.71833 16 5.80788 15.9123 5.80788 15.8027V9.68767H8.02197C8.1133 9.68767 8.1931 9.6263 8.21527 9.53863L8.96897 6.55781C8.97638 6.52872 8.97699 6.49834 8.97075 6.46899C8.9645 6.43964 8.95157 6.41208 8.93293 6.38841C8.91429 6.36474 8.89044 6.34558 8.86319 6.3324C8.83594 6.31922 8.806 6.31235 8.77567 6.31233H5.80788V4.05479C5.80788 3.96557 5.82566 3.87721 5.86019 3.79478C5.89473 3.71234 5.94534 3.63744 6.00916 3.57435C6.07297 3.51126 6.14872 3.46121 6.2321 3.42706C6.31547 3.39292 6.40483 3.37534 6.49507 3.37534H8.80049C8.91044 3.37534 9 3.28767 9 3.17808V0.19726C9 0.0885479 8.91133 0 8.80049 0H6.49507Z"
									fill="white" />
							</svg>
						</a>
						<a href="#" class="social-link">
							<svg width="18" height="18" viewBox="0 0 18 18" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" clip-rule="evenodd"
									d="M13 0C14.3261 0 15.5979 0.526784 16.5355 1.46447C17.4732 2.40215 18 3.67392 18 5V13C18 14.3261 17.4732 15.5979 16.5355 16.5355C15.5979 17.4732 14.3261 18 13 18H5C3.67392 18 2.40215 17.4732 1.46447 16.5355C0.526784 15.5979 0 14.3261 0 13V5C0 3.67392 0.526784 2.40215 1.46447 1.46447C2.40215 0.526784 3.67392 0 5 0H13ZM13 2H5C4.20435 2 3.44129 2.31607 2.87868 2.87868C2.31607 3.44129 2 4.20435 2 5V13C2 13.7956 2.31607 14.5587 2.87868 15.1213C3.44129 15.6839 4.20435 16 5 16H13C13.7956 16 14.5587 15.6839 15.1213 15.1213C15.6839 14.5587 16 13.7956 16 13V5C16 4.20435 15.6839 3.44129 15.1213 2.87868C14.5587 2.31607 13.7956 2 13 2ZM9 5C10.0609 5 11.0783 5.42143 11.8284 6.17157C12.5786 6.92172 13 7.93913 13 9C13 10.0609 12.5786 11.0783 11.8284 11.8284C11.0783 12.5786 10.0609 13 9 13C7.93913 13 6.92172 12.5786 6.17157 11.8284C5.42143 11.0783 5 10.0609 5 9C5 7.93913 5.42143 6.92172 6.17157 6.17157C6.92172 5.42143 7.93913 5 9 5ZM9 7C8.46957 7 7.96086 7.21071 7.58579 7.58579C7.21071 7.96086 7 8.46957 7 9C7 9.53043 7.21071 10.0391 7.58579 10.4142C7.96086 10.7893 8.46957 11 9 11C9.53043 11 10.0391 10.7893 10.4142 10.4142C10.7893 10.0391 11 9.53043 11 9C11 8.46957 10.7893 7.96086 10.4142 7.58579C10.0391 7.21071 9.53043 7 9 7ZM13.5 3.5C13.7652 3.5 14.0196 3.60536 14.2071 3.79289C14.3946 3.98043 14.5 4.23478 14.5 4.5C14.5 4.76522 14.3946 5.01957 14.2071 5.20711C14.0196 5.39464 13.7652 5.5 13.5 5.5C13.2348 5.5 12.9804 5.39464 12.7929 5.20711C12.6054 5.01957 12.5 4.76522 12.5 4.5C12.5 4.23478 12.6054 3.98043 12.7929 3.79289C12.9804 3.60536 13.2348 3.5 13.5 3.5Z"
									fill="white" />
							</svg>

						</a>
					</div>
				</div>
			</div>

			<div class="header__down">
				<div class="container-header container-header__down">
					<a href="" class="header__logo">
						<img src="@/assets/img/_src/logo.png" alt="" class="header__logo-img">
					</a>
					<a href="" class="header__btn">
						<span>GET QUOTE</span>
					</a>
					<a href="" class="header__btn">
						<span>BUILDER</span>
					</a>
				</div>
			</div>

		</header>

		<main class="main" id="app">
			<section class="builder-sec">
				<div class="container-builder">
					
					<topStapCounter/>

					<div class="builder-sec__staps-wrapper" v-if="store.dataServer">

						<stap1Foundation v-if="store.stapCounter == 1"/>

						<stap2Utilities v-if="store.stapCounter == 2"/>

						<stap3Cooking v-if="store.stapCounter == 3"/>

						<stap4AddOns v-if="store.stapCounter == 4"/>

						<stap5GetQuote v-if="store.stapCounter == 5"/>

					</div>

				</div>
			</section>
		</main>

  </main>
</template>

<script setup >
//IMPORT

import { ref, onMounted, onBeforeUnmount, computed, watch , defineEmits } from 'vue'

import topStapCounter from '@/components/topStapCounter.vue'

import stap1Foundation from '@/components/stap1Foundation.vue'

import stap2Utilities from '@/components/stap2Utilities.vue'

import stap3Cooking from '@/components/stap3Cooking.vue'

import stap4AddOns from '@/components/stap4AddOns.vue'

import stap5GetQuote from '@/components/stap5GetQuote.vue'

import { useCounterStore } from '@/stores/counter'

const store = useCounterStore()


//METHODS
async function getServerData(){
	let stapData = await fetch(`https://stcroixtrailers.theprojectview.com/wp-json/wp/v2/pages?slug=trailer-builder`)

	let response = await stapData.json()

	if(response[0]?.acf)

	store.changeDataServer(response[0].acf)

	console.log(response)
}




onMounted(()=>{
	getServerData()
})


</script>
